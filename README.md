# Настройка проекта

[![Build Status](https://travis-ci.org/fabrikaodua/frontend-ui-modus-8.svg?branch=master)](https://travis-ci.org/fabrikaodua/frontend-ui-modus-8)
[![Greenkeeper badge](https://badges.greenkeeper.io/fabrikaodua/frontend-ui-modus-8.svg?token=a8276c6672eeca7f58cc859e5458651d572911373480e926ff69a8341936de58&ts=1496889802839)](https://greenkeeper.io/)

## Создание проекта
1. Установить в систему Git с сайта https://git-scm.com/downloads (если уже не сделано).
2. Установить в систему любой GUI для работы с Git (если уже не сделано). Например https://desktop.github.com/ или https://tortoisegit.org/. Многие редакторы кода имеют плагин или встроенную поддержку Git.
3. *Склонируйте* проект по адресу из **своего аккаунта** локально в файловую систему. 

## Установка

Начальная установка и настройка проект предполагает несколько шагов, которые должны быть проделаны единожды в самом начале.

1. Установить NodeJS с сайт http://nodejs.org. Установите последнюю версию.
2. Запустите **/tasks/setup.bat** для автоматической установки всех модулей из открытых репозиториев. Это внешние зависимости, необходимые для работы инфраструктуры разработки проекта.

Следующие действия можно выполнять каждый раз, когда вы приступаете к работе с проектом.

## Разработка

Исходный код проекта находится в папке **/src/**. 

#### Структура проекта

- **/src/index.js**: Точка входа приложения. В нём происходит подключение всех частей приложения
- **/src/body.html**: Главная страницей для разметки. Сюда нужно писать код, который попадёт в `<body>`
- **/src/modules/main.js**: Главный модуль для JavaScript. Здесь можно организовать работу по своему. В нём можно подключить все остальные модули с помощью импорта.
 - **/src/styles/style.css**: Главный файл для стилей. В нём можно написать полностью все стили или импортировать отдельные модули через `@import`

## Запуск с живой перезагрузкой
Текущая реализация инфраструктуры в режиме разработки предполагает запуск на сервере по протоколу HTTP.  

Запустите команду: 

```bash
npm start
```

После этого в браузере по умолчанию откроется страница с приложением. Будет запущен сервер работающий в локальной сети. Так же будет активирована автоматическая перезагрузка страниц при изменении исходного кода. Адрес из запущенного браузера можно использовать на любом устройстве внутри сети, чтобы запустить проект на нём. Это удобно для тестирования на реальных мобильных устройствах, например.

Так же присутствует вариант запуска собранной версии проекта. О процессе сборки есть инструкция в этом документе ниже. Собранная версия не имеет ограничений в запуске и может стартовать в любых условиях и в любом браузере. Но надо учесть, что при изменениях исходного кода процесс сборки нужно перезапускать заново.

## Статический анализ кода
Статический анализатор кода возможно запустить через интерфейс командной строки. Для этого запустите команду:

```bash
npm run lint
```

 Анализатор ESLint проверит все файлы ***.js** в исходном коде и покажет отчёт об ошибках.

ESLint можно установить в качестве расширения для большинства редакторов кода. Т.о., сразу можно увидеть свои ошибки ещё на этапе написания кода. В проект включены локальные настройки для редактора Visual Studio Code. Это облегчит работу с JavaScript, т.к. большинство ошибок в правилах оформления кода будет автоматически исправлено при сохранении файлов.

## Тесты
Автоматических тестов нет. Но имеется инфраструктура для написания собственных тестов. 

### Тесты в командной строке
Запустите команду, чтобы увидеть отчёт по тестам:

```bash
npm test
```

С живой перезагрузкой:

```bash
npm run test:watch
```

В этом случае при изменениях в коде тесты будут перезапускаться и показывать новый отчёт в том же окне терминала.

## Сборка проекта
Для того, чтобы собрать все модули в один файл и скомпилировать минифицированную версию приложения, можно запустить **/tasks/build.bat**. В корне проекта появится новая папка **/build/**, внутри которой будет код, созданный из исходных файлов в папке **/src/**. Процесс сборки объединяет многие файлы в один и применяет к коду оптимизации, уменьшающий его размер.